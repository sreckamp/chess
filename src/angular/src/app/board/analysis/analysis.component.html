<div *ngIf="visible">
    <div *ngIf="analysisMarkers.length > 0">
        <div *ngFor="let m of analysisMarkers" [className]="rotation" [ngClass]="getClasses(m)" class="meta">
            <app-piece *ngFor="let piece of m.pieces; let idx = index;" [piece]="piece" [className]="'item' + idx"></app-piece>
        </div>
    </div>
    <app-piece *ngIf="enpassant.type !== PieceType.EMPTY" [piece]="enpassant" [phantom]="true"></app-piece>
</div>
